{"version":3,"sources":["components/fishes.js","App.js","reportWebVitals.js","index.js"],"names":["Storage","prototype","save","id","obj","localStorage","setItem","JSON","stringify","load","fallback","val","getItem","this","console","log","parse","baseurl","getJSON","what","a","fetch","resp","json","createList","T","items","created","Object","entries","item","push","getID","getFishData","getData","CritItem","getBugsData","getSeaData","plural","prev","map","SaveLoadHelper","name","value","defaultValue","type","data","found","saver","loader","fish","CritItemComp","props","state","newState","setState","MONTHS","curMonth","Date","getMonth","curHour","getHours","className","alt","src","icon_uri","now","availability","includes","location","rarity","shadow","time","i","reduce","curr","style","fontSize","onClick","togleState","renderInner","Component","CritList","dataLoader","then","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.37a763c4.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\n\nStorage.prototype.save = function (\n    id, obj\n) {\n    localStorage.setItem(id, JSON.stringify(obj));\n}\n\nStorage.prototype.load = function (\n    id, fallback\n) {\n    const val = localStorage.getItem(id);\n    if (val === null) {\n        if (fallback) {\n            this.save(id, fallback);\n            return fallback;\n        }\n        return null;\n    } else {\n        console.log(val)\n        return JSON.parse(val);\n    }\n}\n\nconst baseurl = \"https://acnhapi.com/v1/\"\n\nasync function getJSON(what) {\n    const resp = await fetch(baseurl + what);\n    return await resp.json();\n}\n\nfunction createList(T, json, what) {\n\n    let items = [];\n    let created = [];\n    for (const [, data] of Object.entries(json)) {\n        let item = new T(what,data);\n        item.save();\n        items.push(item);\n        created.push(item.getID());\n    }\n    localStorage.save(what, created);\n\n    return items;\n\n}\n\nexport async function getFishData() {\n    return getData(CritItem, \"fish\", \"fishes\");\n}\n\n\nexport async function getBugsData() {\n    return getData(CritItem, \"bugs\", \"bugses\");\n}\n\nexport async function getSeaData() {\n    return getData(CritItem, \"sea\", \"seaCreatures\");\n}\n\nasync function getData(T, what, plural) {\n    const prev = localStorage.load(plural);\n    if (prev !== null) {\n        return prev.map(id => T.load(id))\n    } else {\n        return createList(T, await getJSON(what), plural);\n    }\n}\n\nclass SaveLoadHelper {\n    constructor(id) {\n        this.id = id;\n    }\n\n    save(name, value) {\n        localStorage.save(this.id + name, value);\n    }\n\n    load(name, defaultValue) {\n        return localStorage.load(this.id + name, defaultValue);\n    }\n}\n\nclass CritItem {\n    constructor(type, data) {\n        this.type = type;\n        this.found = false;\n        this.data = data;\n    }\n\n\n    // static getID(id) {\n    //     return this.type + id;\n    // }\n\n    getID() {\n        return this.type + this.data.id;\n    }\n\n\n    static load(id) {\n        let loader = new SaveLoadHelper(id);\n        let fish = new CritItem();\n\n        fish.type = loader.load(\"type\");\n        fish.found = loader.load(\"state\", false);\n        fish.data = loader.load(\"data\");\n        return fish;\n    }\n\n\n    save() {\n        let saver = new SaveLoadHelper(this.getID());\n        saver.save(\"type\", this.type);\n        saver.save(\"state\", this.found);\n        saver.save(\"data\", this.data);\n    }\n\n}\n\nclass CritItemComp extends Component {\n\n\n    constructor(props) {\n        super(props);\n        const { item } = this.props;\n        this.item = item;\n        console.log(item)\n        console.log(item.found === true)\n        this.state = {\n            found: item.found === true\n        }\n    }\n\n    togleState() {\n        const newState = this.state.found === false;\n        this.item.found = newState;\n        this.item.save();\n        this.setState({\n            found: newState\n        })\n    }\n\n\n    renderInner() {\n        const MONTHS = [\n            \"\",\n            \"jan\",\n            \"feb\",\n            \"mar\",\n            \"apr\",\n            \"may\",\n            \"jun\",\n            \"jul\",\n            \"aug\",\n            \"sep\",\n            \"oct\",\n            \"nov\",\n            \"dec\"\n        ]\n        const curMonth = (new Date()).getMonth() + 1;\n        const curHour = (new Date()).getHours();\n\n        const { item } = this.props;\n        if (this.state.found) {\n            return (\n                <div>\n                    <img className=\"critipedia_img\" alt=\"\" src={item.data.icon_uri} />\n                </div>\n            )\n        } else {\n            let now = 0;\n            now += item.data.availability[\"time-array\"].includes(curHour) ? 1 : 0;\n            const classNames = [\"redText\", \"redText\", \"orangeText\", \"greenText\"]\n            return (\n                <div>\n                    {item.data.availability.location},\n                    {item.data.availability.rarity}<br />\n                    {item.data.shadow}<br />\n                    {item.data.availability.time} <br />\n                    {item.data.availability[\"month-array-northern\"].map(i => {\n                        now += i === curMonth ? 2 : 0;\n                        return <span className={i === curMonth ? \"greenText\" : \"redText\"}>{MONTHS[i]}</span>\n                    }).reduce((prev, curr) => [prev, ', ', curr])} <br />\n                    <span style={{ fontSize: \"4em\" }} className={classNames[now]}>â˜…</span>\n\n                </div>\n            )\n        }\n\n    }\n\n    render() {\n        return (\n            <div className=\"critipedia_item\"\n                onClick={() => this.togleState()}\n            >\n                <div className=\"inner\">\n                    {this.renderInner()}\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\nexport default class CritList extends Component {\n    constructor(props) {\n        super(props);\n        const {dataLoader} = this.props;\n        this.dataLoader = dataLoader; \n        this.state = {\n            items: []\n        }\n    }\n\n    componentDidMount() {\n        this.dataLoader().then(\n            (items) => {\n                this.setState({ items: items });\n            }\n        )\n    }\n\n    render() {\n\n        const items = this.state.items.map((fish) =>\n            <CritItemComp key={fish.data.id} item={fish} />\n        )\n\n\n        return (\n            <div id=\"items\" className=\"critipedia_content\">\n                {items}\n            </div>\n        )\n    }\n}\n","import './App.css';\nimport CritList, { getFishData,getBugsData,getSeaData } from './components/fishes';\n\n\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>Fishes</h1>\n      <CritList dataLoader={getFishData} />\n      <hr />\n      <h1>Bugs</h1>\n      <CritList dataLoader={getBugsData} />\n      <h1>Sea Creatures</h1>\n      <hr />\n      <CritList dataLoader={getSeaData} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}