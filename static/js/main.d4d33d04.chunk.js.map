{"version":3,"sources":["components/fishes.js","App.js","reportWebVitals.js","index.js"],"names":["Storage","prototype","save","id","obj","localStorage","setItem","JSON","stringify","load","fallback","val","getItem","this","console","log","parse","baseurl","getJSON","what","a","fetch","resp","json","createList","T","items","created","Object","entries","item","push","getID","getFishData","getData","CritItem","getBugsData","getSeaData","getArtData","plural","prev","map","SaveLoadHelper","name","value","defaultValue","type","data","found","saver","loader","fish","CritItemComp","props","state","newState","setState","MONTHS","curMonth","Date","getMonth","curHour","getHours","undefined","hasFake","className","alt","src","icon_uri","image_uri","now","availability","includes","location","rarity","shadow","time","i","reduce","curr","style","fontSize","onClick","togleState","renderInner","Component","CritList","dataLoader","then","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d4d33d04.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\n\nStorage.prototype.save = function (\n    id, obj\n) {\n    localStorage.setItem(id, JSON.stringify(obj));\n}\n\nStorage.prototype.load = function (\n    id, fallback\n) {\n    const val = localStorage.getItem(id);\n    if (val === null) {\n        if (fallback) {\n            this.save(id, fallback);\n            return fallback;\n        }\n        return null;\n    } else {\n        console.log(val)\n        return JSON.parse(val);\n    }\n}\n\nconst baseurl = \"http://acnhapi.com/v1/\"\n\nasync function getJSON(what) {\n    const resp = await fetch(baseurl + what);\n    return await resp.json();\n}\n\nfunction createList(T, json, what) {\n\n    let items = [];\n    let created = [];\n    for (const [, data] of Object.entries(json)) {\n        let item = new T(what, data);\n        item.save();\n        items.push(item);\n        created.push(item.getID());\n    }\n    localStorage.save(what, created);\n\n    return items;\n\n}\n\nexport async function getFishData() {\n    return getData(CritItem, \"fish\", \"fishes\");\n}\n\n\nexport async function getBugsData() {\n    return getData(CritItem, \"bugs\", \"bugses\");\n}\n\nexport async function getSeaData() {\n    return getData(CritItem, \"sea\", \"seaCreatures\");\n}\n\n\n\nexport async function getArtData() {\n    return getData(CritItem, \"art\", \"arts\");\n}\n\nasync function getData(T, what, plural) {\n    const prev = localStorage.load(plural);\n    if (prev !== null) {\n        return prev.map(id => T.load(id))\n    } else {\n        return createList(T, await getJSON(what), plural);\n    }\n}\n\nclass SaveLoadHelper {\n    constructor(id) {\n        this.id = id;\n    }\n\n    save(name, value) {\n        localStorage.save(this.id + name, value);\n    }\n\n    load(name, defaultValue) {\n        return localStorage.load(this.id + name, defaultValue);\n    }\n}\n\nclass CritItem {\n    constructor(type, data) {\n        this.type = type;\n        this.found = false;\n        this.data = data;\n    }\n\n\n    // static getID(id) {\n    //     return this.type + id;\n    // }\n\n    getID() {\n        return this.type + this.data.id;\n    }\n\n\n    static load(id) {\n        let loader = new SaveLoadHelper(id);\n        let fish = new CritItem();\n\n        fish.type = loader.load(\"type\");\n        fish.found = loader.load(\"state\", false);\n        fish.data = loader.load(\"data\");\n        return fish;\n    }\n\n\n    save() {\n        let saver = new SaveLoadHelper(this.getID());\n        saver.save(\"type\", this.type);\n        saver.save(\"state\", this.found);\n        saver.save(\"data\", this.data);\n    }\n\n}\n\nclass CritItemComp extends Component {\n\n\n    constructor(props) {\n        super(props);\n        const { item } = this.props;\n        this.item = item;\n        this.state = {\n            found: item.found === true\n        }\n    }\n\n    togleState() {\n        const newState = this.state.found === false;\n        this.item.found = newState;\n        this.item.save();\n        this.setState({\n            found: newState\n        })\n    }\n\n\n    renderInner() {\n        const MONTHS = [\n            \"\",\n            \"jan\",\n            \"feb\",\n            \"mar\",\n            \"apr\",\n            \"may\",\n            \"jun\",\n            \"jul\",\n            \"aug\",\n            \"sep\",\n            \"oct\",\n            \"nov\",\n            \"dec\"\n        ]\n        const curMonth = (new Date()).getMonth() + 1;\n        const curHour = (new Date()).getHours();\n\n        const { item } = this.props;\n        if (this.state.found) {\n            if (item.data.hasFake !== undefined) {\n                return (\n                    <div className=\"greenBorder\">\n                        {/* <img className=\"critipedia_img\" alt=\"\" src={item.data.image_uri} /> */}\n                    </div>\n                )\n            } else {\n                return (\n                    <div>\n                        <img className=\"critipedia_img\" alt=\"\" src={item.data.icon_uri} />\n                    </div>\n                )\n\n            }\n        } else {\n            if (item.data.hasFake !== undefined) {\n                return (\n                <div className={item.data.hasFake?\"redBorder\":\"orangeBorder\"}>\n                    <img className=\"critipedia_img\" alt=\"\" src={item.data.image_uri} />\n                </div>)\n            } else {\n\n                let now = 0;\n                now += item.data.availability[\"time-array\"].includes(curHour) ? 1 : 0;\n                const classNames = [\"redText\", \"redText\", \"orangeText\", \"greenText\"]\n                return (\n                    <div>\n                        {item.data.availability.location},\n                        {item.data.availability.rarity}<br />\n                        {item.data.shadow}<br />\n                        {item.data.availability.time} <br />\n                        {item.data.availability[\"month-array-northern\"].map(i => {\n                            now += i === curMonth ? 2 : 0;\n                            return <span className={i === curMonth ? \"greenText\" : \"redText\"}>{MONTHS[i]}</span>\n                        }).reduce((prev, curr) => [prev, ', ', curr])} <br />\n                        <span style={{ fontSize: \"4em\" }} className={classNames[now]}>★</span>\n\n                    </div>\n                )\n            }\n        }\n\n    }\n\n    render() {\n        return (\n            <div className=\"critipedia_item\"\n                onClick={() => this.togleState()}\n            >\n                <div className=\"inner\">\n                    {this.renderInner()}\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\nexport default class CritList extends Component {\n    constructor(props) {\n        super(props);\n        const { dataLoader } = this.props;\n        this.dataLoader = dataLoader;\n        this.state = {\n            items: []\n        }\n    }\n\n    componentDidMount() {\n        this.dataLoader().then(\n            (items) => {\n                this.setState({ items: items });\n            }\n        )\n    }\n\n    render() {\n\n        const items = this.state.items.map((fish) =>\n            <CritItemComp key={fish.data.id} item={fish} />\n        )\n\n\n        return (\n            <div id=\"items\" className=\"critipedia_content\">\n                {items}\n            </div>\n        )\n    }\n}\n","import './App.css';\nimport CritList, { getFishData,getBugsData,getSeaData,getArtData } from './components/fishes';\n\n\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>Bugs</h1>\n      <CritList dataLoader={getBugsData} />\n      <hr />\n      <h1>Fishes</h1>\n      <CritList dataLoader={getFishData} />\n      <hr />\n      <h1>Sea Creatures</h1>\n      <CritList dataLoader={getSeaData} />\n      <hr />\n      <h1>Art</h1>\n      <CritList dataLoader={getArtData} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}